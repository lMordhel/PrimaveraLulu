<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Realizar Pedido - Florista</title>
    <link rel="stylesheet" href="/css/styles.css">
    <link rel="stylesheet" href="/css/animations.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,500;0,600;0,700;1,400&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
</head>
<body>
    <script>
        // Redirigir si no hay usuario logueado
        const usuarios = localStorage.getItem('usuarios');
        if (!usuarios) {
            window.location.href = '/login.html';
        }
    </script>
    <header>
        <div class="container">
            <div class="logo">
                <a href="/">Florista</a>
            </div>
            <nav>
                <ul>
                    <li><a href="/">Inicio</a></li>
                    <li><a href="/catalog.html">Catálogo</a></li>
                    <li><a href="/contact.html">Contacto</a></li>
                    <li><a href="/order.html">Pedido</a></li>
                </ul>
            </nav>
            <div class="cart-icons">
                <a href="/catalog.html" class="search-icon">
                    <img src="/images/search.svg" alt="Buscar">
                </a>
                <a href="/order.html" class="cart-icon">
                    <img src="/images/cart.svg" alt="Carrito">
                </a>
                <div class="cart-icons">
                    <a href="javascript:void(0)" class="user-icon">
                        <img src="/images/user.svg" alt="Usuario">
                    </a>
                    <div class="user-dropdown">
                        <a href="/profile.html">Mi cuenta</a>
                        <a href="javascript:void(0)" onclick="logout()">Salir</a>
                    </div>
                </div>
                <a href="/login.html" class="login-btn" id="loginButton">Iniciar Sesión</a>
            </div>
        </div>
    </header>

    <main class="order-page">
        <div class="container">
            <h1>Realizar Pedido</h1>
            
            <div class="order-grid">
                <div class="order-form">
                    <div class="informacion-section">
                        <h2>Informacion</h2>
                        
                        <div class="address-form">
                            <div class="address-header">
                                <h3>Add New Address</h3>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="firstName">Nombre</label>
                                    <input type="text" id="firstName" name="firstName">
                                </div>
                                <div class="form-group">
                                    <label for="lastName">Apellido</label>
                                    <input type="text" id="lastName" name="lastName">
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group full-width">
                                    <label for="email">Email</label>
                                    <input type="email" id="email" name="email">
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="city">City</label>
                                    <input type="text" id="city" name="city">
                                </div>
                                <div class="form-group">
                                    <label for="address">Address</label>
                                    <input type="text" id="address" name="address">
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="aptNumber">Apt Number</label>
                                    <input type="text" id="aptNumber" name="aptNumber">
                                </div>
                                <div class="form-group">
                                    <label for="state">State</label>
                                    <input type="text" id="state" name="state">
                                </div>
                                <div class="form-group">
                                    <label for="zip">Zip</label>
                                    <input type="text" id="zip" name="zip">
                                </div>
                            </div>
                            
                            <div class="form-row products-section">
                                <div class="form-group full-width">
                                    <label for="products">Products</label>
                                    <textarea id="products" name="products" rows="6"></textarea>
                                </div>
                            </div>
                            
                            <div class="form-actions">
                                <button type="button" class="cancel-btn">cancel</button>
                                <button type="submit" class="save-btn" id="realizarCompra">Realizar compra</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="order-summary">
                    <h2>Total</h2>
                    <div class="basket-items" id="basketItems">
                        <!-- Los items del carrito se generarán dinámicamente -->
                        <div class="basket-item">
                            <div class="basket-item-image">
                                <img src="/images/orange-amaryllis-main.jpg" alt="Garden Medley">
                            </div>
                            <div class="basket-item-details">
                                <h3>Garden Medley</h3>
                                <p class="item-description">Vibrant roses, delicate lilies, sprigs of fragrant lavender, all wrapped in lush greenery</p>
                                <div class="item-quantity">
                                    <button class="quantity-btn minus">-</button>
                                    <input type="number" value="1" min="1" class="quantity-input">
                                    <button class="quantity-btn plus">+</button>
                                </div>
                            </div>
                            <div class="basket-item-price">100€</div>
                            <button class="remove-item">×</button>
                        </div>
                        
                        <div class="basket-item">
                            <div class="basket-item-image">
                                <img src="/images/orange-amaryllis-1.jpg" alt="Bloom Fusion">
                            </div>
                            <div class="basket-item-details">
                                <h3>Bloom Fusion</h3>
                                <p class="item-description">Mix of colorful daisies, elegant tulips, and whimsical baby's breath, complemented by fresh green foliage</p>
                                <div class="item-quantity">
                                    <button class="quantity-btn minus">-</button>
                                    <input type="number" value="1" min="1" class="quantity-input">
                                    <button class="quantity-btn plus">+</button>
                                </div>
                            </div>
                            <div class="basket-item-price">90€</div>
                            <button class="remove-item">×</button>
                        </div>
                    </div>
                    
                    <div class="order-details">
                        <div class="order-detail-row">
                            <span>Garden Medley</span>
                            <span>100€</span>
                        </div>
                        <div class="order-detail-row">
                            <span>Bloom Fusion</span>
                            <span>90€</span>
                        </div>
                        <div class="order-detail-row">
                            <span>Delivery:</span>
                            <span>Free</span>
                        </div>
                        <div class="order-detail-row">
                            <span>Sale:</span>
                            <span>30€</span>
                        </div>
                        <div class="order-detail-row total">
                            <span>Total:</span>
                            <span>160€</span>
                        </div>
                    </div>
                    
                    <button class="pay-btn" id="payButton">Pay</button>
                </div>
            </div>
            
            <!-- Sección de confirmación de pedido (oculta por defecto) -->
            <div class="order-confirmation" id="orderConfirmation" style="display: none;">
                <div class="confirmation-content">
                    <h2>¡Gracias por tu pedido!</h2>
                    <p>Tu pedido ha sido recibido y está siendo procesado.</p>
                    <div class="order-summary-confirmation">
                        <h3>Resumen del pedido:</h3>
                        <div class="order-details-confirmation" id="orderDetailsConfirmation">
                            <!-- Se llenará dinámicamente -->
                        </div>
                        <div class="order-total-confirmation" id="orderTotalConfirmation">
                            <!-- Se llenará dinámicamente -->
                        </div>
                    </div>
                    <p>Recibirás un correo electrónico con los detalles de tu pedido.</p>
                    <a href="/catalog.html" class="continue-shopping-btn">Continuar comprando</a>
                </div>
            </div>
        </div>
    </main>

    <footer>
        <div class="container">
            <div class="footer-logo">
                <img src="/images/logo.png" alt="Florista">
            </div>
            <div class="footer-columns">
                <div class="footer-column">
                    <h4>Contacto</h4>
                    <p>info@florista.com</p>
                    <p>+51 929540815</p>
                </div>
                <div class="footer-column">
                    <h4>Dirección</h4>
                    <p>HHAA SAUL CANTORAL</p>
                    <p>Lima, Perú</p>
                </div>
                <div class="footer-column">
                    <h4>Horario</h4>
                    <p>Lun-Vie: 9:00 - 18:00</p>
                    <p>Sáb: 10:00 - 14:00</p>
                </div>
                <div class="footer-column">
                    <h4>Síguenos</h4>
                    <div class="social-icons">
                        <a href="https://www.instagram.com/jardindeprimaveraeternalulu/" target="_blank" rel="noopener noreferrer">
                            <img src="/images/instagram.svg" alt="Instagram">
                        </a>
                        <a href="https://www.facebook.com/search/top/?q=primavera%20lulu" target="_blank" rel="noopener noreferrer"><img src="/images/facebook.svg" alt="Facebook"></a>
                        <a href="https://www.tiktok.com/@jardindeprimaveralulu" target="_blank" rel="noopener noreferrer"><img src="/images/twitter.svg" alt="Twitter"></a>
                    </div>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2023 Florista. Todos los derechos reservados.</p>
            </div>
        </div>
    </footer>
    <script src="/js/auth.js"></script>
    <script src="/js/main.js"></script>
    <script>
        // Script para manejar la confirmación del pedido
        document.addEventListener('DOMContentLoaded', function() {
            const realizarCompraBtn = document.getElementById('realizarCompra');
            const payButton = document.getElementById('payButton');
            const orderConfirmation = document.getElementById('orderConfirmation');
            const orderForm = document.querySelector('.order-grid');
            
            // Función para mostrar la confirmación del pedido
            function showOrderConfirmation() {
                // Ocultar el formulario de pedido
                orderForm.style.display = 'none';
                
                // Mostrar la confirmación
                orderConfirmation.style.display = 'block';
                
                // Llenar los detalles de la confirmación
                const orderDetailsConfirmation = document.getElementById('orderDetailsConfirmation');
                const orderTotalConfirmation = document.getElementById('orderTotalConfirmation');
                
                // Ejemplo de cómo llenar los detalles (esto debería adaptarse a tus datos reales)
                orderDetailsConfirmation.innerHTML = `
                    <div class="confirmation-detail-row">
                        <span>Garden Medley</span>
                        <span>100€</span>
                    </div>
                    <div class="confirmation-detail-row">
                        <span>Bloom Fusion</span>
                        <span>90€</span>
                    </div>
                    <div class="confirmation-detail-row">
                        <span>Delivery:</span>
                        <span>Free</span>
                    </div>
                    <div class="confirmation-detail-row">
                        <span>Sale:</span>
                        <span>30€</span>
                    </div>
                `;
                
                orderTotalConfirmation.innerHTML = `
                    <div class="confirmation-total-row">
                        <span>Total:</span>
                        <span>160€</span>
                    </div>
                `;
            }
            
            // Eventos para los botones
            if (realizarCompraBtn) {
                realizarCompraBtn.addEventListener('click', showOrderConfirmation);
            }
            
            if (payButton) {
                payButton.addEventListener('click', showOrderConfirmation);
            }
        });
    </script>
</body>
</html>